"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{751:function(e,t,n){n.d(t,{Bt:function(){return _},Hq:function(){return f},d5:function(){return m},h_:function(){return p},wr:function(){return i}});var r=n(861),c=n(757),a=n.n(c),o="https://api.themoviedb.org/3",s="12697f9651cab9741ad5be8978340838";function i(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/trending/movie/day?api_key=").concat(s)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(t,"?api_key=").concat(s)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/search/movie?api_key=").concat(s,"&query=").concat(t,"&page=1")).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(s)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(s)).then((function(e){return e.ok||Promise.reject(new Error("Opps...something going wrong")),e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},196:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(87),c=n(959),a="GalleryItem_gallery__item__qM0sr",o="GalleryItem_gallery__image__CXT08",s="GalleryItem_item__title__HkyWk",i="GalleryItem_info__kHDot",u=n(184),p=function(e){var t=e.rating,n=e.release,p=e.state,l=e.path,f=e.poster,h=e.title,m=new Date("".concat(n)).toLocaleDateString({day:"numeric",year:"numeric",month:"long"});return(0,u.jsx)("li",{className:a,children:(0,u.jsx)(r.rU,{to:l,state:p,children:(0,u.jsx)("article",{children:(0,u.jsxs)("div",{children:[f?(0,u.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(f),alt:h,className:o}):(0,u.jsx)("img",{src:"".concat(c),alt:"Not found",className:o}),(0,u.jsx)("p",{className:s,children:h}),(0,u.jsxs)("div",{className:i,children:[(0,u.jsxs)("p",{children:["Rating: ",t]}),(0,u.jsxs)("p",{children:["Release: ",m]})]})]})})})})},l="Gallery_gallery__RNraJ",f=function(e){var t=e.movies,n=e.state,r=e.path;return(0,u.jsx)("ul",{className:l,children:t.map((function(e){var t,c=e.vote_average,a=e.release_date,o=e.id,s=e.poster_path,i=e.title,l=e.overview,f=(t="".concat(c),Number(t).toFixed(1)),h="".concat(a),m="".concat(r).concat(o);return(0,u.jsx)(p,{rating:f,release:h,state:n,path:m,poster:s,title:i,overview:l},o)}))})}},881:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(861),c=n(439),a=n(757),o=n.n(a),s=n(689),i=n(87),u=n(791),p=n(751),l=n(880),f=n(983),h=n(196),m="Movies_section__bjPDA",d="Movies_form__4ow+Z",_="Movies_searchInput__8fq2n",v="Movies_button__GcIka",g=n(184),y=function(){var e,t=(0,s.TH)(),n=(0,u.useState)([]),a=(0,c.Z)(n,2),y=a[0],x=a[1],w=(0,i.lr)(),j=(0,c.Z)(w,2),k=j[0],b=j[1],N=null!==(e=k.get("searchQuery"))&&void 0!==e?e:"";(0,u.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,p.Hq)(N).then((function(e){return x(e.results)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}""!==N&&function(){e.apply(this,arguments)}()}),[N]);return(0,g.jsxs)("div",{className:m,children:[(0,g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;b({searchQuery:t.elements.query.value.trim()})},className:d,children:[(0,g.jsx)("input",{type:"text",name:"query",placeholder:"Search movie",className:_}),(0,g.jsx)(f.Pd.Provider,{value:{color:"black",size:"2em",style:{verticalAlign:"middle"}},children:(0,g.jsx)("button",{type:"submit",className:v,children:(0,g.jsx)(l.lnn,{})})})]}),y.length>0&&(0,g.jsx)(h.Z,{movies:y,state:{from:t},path:""})]})}},959:function(e,t,n){e.exports=n.p+"static/media/image.75ec18bd61ed49efc08a.jpg"}}]);
//# sourceMappingURL=881.08f29780.chunk.js.map