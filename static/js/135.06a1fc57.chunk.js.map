{"version":3,"file":"static/js/135.06a1fc57.chunk.js","mappings":"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","sources":["components/Api-service/ApiService.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '12697f9651cab9741ad5be8978340838';\n\nexport async function fetchTrendingMovies() {\n  return await fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchById(id) {\n  return await fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchByQuery (query) {\n  return await fetch(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=1`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\n\nexport async function fetchCredits (id) {\n  return await fetch(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}\n\nexport async function fetchReviews (id) {\n  return await fetch(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) Promise.reject(new Error('Opps...something going wrong'));\n      return res.json();\n    }\n  );\n}","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"MovieDetails_section__CCh0q\",\"content\":\"MovieDetails_content__xdW74\",\"button\":\"MovieDetails_button__uXZxd\",\"image\":\"MovieDetails_image__c1FeV\",\"info\":\"MovieDetails_info__qv2SI\",\"info__title\":\"MovieDetails_info__title__cEYcj\",\"info__tagline\":\"MovieDetails_info__tagline__ECVYq\",\"info__text\":\"MovieDetails_info__text__SElRI\",\"info__accent\":\"MovieDetails_info__accent__4ylKl\",\"overview\":\"MovieDetails_overview__U5Vnb\",\"additional__links\":\"MovieDetails_additional__links__QbCVC\",\"link\":\"MovieDetails_link__U+v+7\"};","import { Suspense, useEffect, useState, useRef } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { TiArrowBackOutline } from 'react-icons/ti';\nimport { fetchById } from 'components/Api-service/ApiService';\nimport Loader from 'components/Loader/Loader';\nimport image from '../../images/image.jpg';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [movie, setMovie] = useState(null);\n  const imageBaseUrl = 'https://image.tmdb.org/t/p/w400';\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const getMovieInfo = async () => {\n      try {\n        await fetchById(movieId).then(data => setMovie(data));\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getMovieInfo();\n  }, [movieId]);\n\n  if (!movie) return;\n\n  const { genres, production_countries } = movie;\n\n  const movieGenres = genres.map(genre => genre.name).join(', ');\n  const countries = production_countries\n    .map(country => country.name)\n    .join(', ');\n\n  return (\n    <>\n      <section className={css.section}>\n        <div className={css.content}>\n          <Link to={backLinkLocationRef.current} className={css.button}>\n            <TiArrowBackOutline />\n          </Link>\n          {movie.poster_path ? (\n            <img\n              src={`${imageBaseUrl}${movie.poster_path}`}\n              alt={movie.title}\n              className={css.image}\n            />\n          ) : (\n            <img src={`${image}`} alt=\"Not found\" className={css.image} />\n          )}\n          {movie && (\n            <div className={css.info}>\n              <h1 className={css.info__title}>{movie.title}</h1>\n              {movie.tagline && (\n                <h2 className={css.info__tagline}>\n                  <i>\"{movie.tagline}\"</i>\n                </h2>\n              )}\n              <p className={css.info__text}>\n                <span className={css.info__accent}>Genres:</span> {movieGenres}\n              </p>\n              <p className={css.info__text}>\n                <span className={css.info__accent}>Countries:</span> {countries}\n              </p>\n              <div className={css.overview}>\n                <summary>Overview:</summary>\n                <p>\"{movie.overview}\"</p>\n              </div>\n              <ul className={css.additional__links}>\n                <li>\n                  <NavLink to={'cast'} className={css.link}>\n                    Cast\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to={'reviews'} className={css.link}>\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;"],"names":["BASE_URL","API_KEY","fetchTrendingMovies","fetch","then","res","ok","Promise","reject","Error","json","fetchById","id","fetchByQuery","query","fetchCredits","fetchReviews","location","useLocation","backLinkLocationRef","useRef","state","from","useState","movie","setMovie","movieId","useParams","useEffect","getMovieInfo","data","console","log","genres","production_countries","movieGenres","map","genre","name","join","countries","country","className","css","to","current","poster_path","src","alt","title","image","tagline","overview","Suspense","fallback","Loader"],"sourceRoot":""}